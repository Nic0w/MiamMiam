if(typeof jQuery!="undefined"){jQuery(function(a){a.fn.extend({loopedSlider:function(b){var c=a.extend({},a.fn.loopedSlider.defaults,b);return this.each(function(){function s(c,i){j=true;switch(c){case"next":f=f+1;e=-(f*h-h);q(f);if(d.autoHeight){r(f)}if(g<3){if(f===3){a(d.slides,b).children(":eq(0)").css({left:g*h})}if(f===2){a(d.slides,b).children(":eq("+(g-1)+")").css({position:"absolute",left:h})}}a(d.slides,b).animate({left:e},d.slidespeed,function(){if(f===g+1){f=1;a(d.slides,b).css({left:0},function(){a(d.slides,b).animate({left:e})});a(d.slides,b).children(":eq(0)").css({left:0});a(d.slides,b).children(":eq("+(g-1)+")").css({position:"absolute",left:-h})}if(f===g)a(d.slides,b).children(":eq(0)").css({left:g*h});if(f===g-1)a(d.slides,b).children(":eq("+(g-1)+")").css({left:g*h-h});j=false});break;case"prev":f=f-1;e=-(f*h-h);q(f);if(d.autoHeight){r(f)}if(g<3){if(f===0){a(d.slides,b).children(":eq("+(g-1)+")").css({position:"absolute",left:-h})}if(f===1){a(d.slides,b).children(":eq(0)").css({position:"absolute",left:0})}}a(d.slides,b).animate({left:e},d.slidespeed,function(){if(f===0){f=g;a(d.slides,b).children(":eq("+(g-1)+")").css({position:"absolute",left:g*h-h});a(d.slides,b).css({left:-(g*h-h)});a(d.slides,b).children(":eq(0)").css({left:g*h})}if(f===2)a(d.slides,b).children(":eq(0)").css({position:"absolute",left:0});if(f===1)a(d.slides,b).children(":eq("+(g-1)+")").css({position:"absolute",left:-h});j=false});break;case"fade":f=[f]*1;e=-(f*h-h);q(f);if(d.autoHeight){r(f)}a(d.slides,b).children().fadeOut(d.fadespeed,function(){a(d.slides,b).css({left:e});a(d.slides,b).children(":eq("+(g-1)+")").css({left:g*h-h});a(d.slides,b).children(":eq(0)").css({left:0});if(f===g){a(d.slides,b).children(":eq(0)").css({left:g*h})}if(f===1){a(d.slides,b).children(":eq("+(g-1)+")").css({position:"absolute",left:-h})}a(d.slides,b).children().fadeIn(d.fadespeed,function(){if(jQuery.browser.msie){a(this).get(0).style.removeAttribute("filter")}});j=false});break;default:break}}function r(c){if(c===g+1){c=1}if(c===0){c=g}var e=a(d.slides,b).children(":eq("+(c-1)+")",b).outerHeight();a(d.container,b).animate({height:e},d.autoHeight)}function q(c){if(c===g+1){c=1}if(c===0){c=g}a(n,b).parent().siblings().removeClass("active");a(n+"[rel='"+c+"']",b).parent().addClass("active")}if(a.fn.jquery<"1.3.2"){return}var b=a(this);var d=a.metadata?a.extend({},c,b.metadata()):c;var e=0;var f=1;var g=a(d.slides,b).children().size();var h=a(d.slides,b).children().outerWidth();var i=0;var j=false;var k=0;var l=0;var m=0;var n=a("."+d.pagination+" li a",b);if(d.addPagination&&!a(n).length){var o=g;a(b).append("<ul class="+d.pagination+">");a(d.slides,b).children().each(function(){if(k<o){a("."+d.pagination,b).append("<li><a rel="+(k+1)+' href="#" >'+(k+1)+"</a></li>");k=k+1}else{k=0;return false}a("."+d.pagination+" li a:eq(0)",b).parent().addClass("active")});n=a("."+d.pagination+" li a",b)}else{a(n,b).each(function(){k=k+1;a(this).attr("rel",k);a(n.eq(0),b).parent().addClass("active")})}if(g===1){a(d.slides,b).children().css({position:"absolute",left:i,display:"block"});return}a(d.slides,b).css({width:g*h});a(d.slides,b).children().each(function(){a(this).css({position:"absolute",left:i,display:"block"});i=i+h});a(d.slides,b).children(":eq("+(g-1)+")").css({position:"absolute",left:-h});if(g>3){a(d.slides,b).children(":eq("+(g-1)+")").css({position:"absolute",left:-h})}if(d.autoHeight){r(f)}a(".next",b).click(function(){if(j===false){s("next",true);if(d.autoStart){if(d.restart){p()}else{clearInterval(sliderIntervalID)}}}return false});a(".previous",b).click(function(){if(j===false){s("prev",true);if(d.autoStart){if(d.restart){p()}else{clearInterval(sliderIntervalID)}}}return false});if(d.containerClick){a(d.container,b).click(function(){if(j===false){s("next",true);if(d.autoStart){if(d.restart){p()}else{clearInterval(sliderIntervalID)}}}return false})}a(n,b).click(function(){if(a(this).parent().hasClass("active")){return false}else{f=a(this).attr("rel");a(n,b).parent().siblings().removeClass("active");a(this).parent().addClass("active");s("fade",f);if(d.autoStart){if(d.restart){p()}else{clearInterval(sliderIntervalID)}}}return false});if(d.autoStart){sliderIntervalID=setInterval(function(){if(j===false){s("next",true)}},d.autoStart);function p(){if(d.restart){clearInterval(sliderIntervalID);clearInterval(l);clearTimeout(m);m=setTimeout(function(){l=setInterval(function(){s("next",true)},d.autoStart)},d.restart)}else{sliderIntervalID=setInterval(function(){if(j===false){s("next",true)}},d.autoStart)}}if(d.hoverPause){a(d.slides,b).mouseenter(function(){clearInterval(sliderIntervalID);clearInterval(l);clearTimeout(m)});a(d.slides,b).mouseleave(function(){sliderIntervalID=setInterval(function(){if(j===false){s("next",true)}},d.autoStart)})}}})}});a.fn.loopedSlider.defaults={container:".container",slides:".slides",pagination:"pagination",containerClick:true,autoStart:0,restart:0,hoverPause:false,slidespeed:300,fadespeed:200,autoHeight:0,addPagination:false}})}